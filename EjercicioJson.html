<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practicando Json</title>
</head>
<body>
    
</body>
</html>
<script>
    const datos = [
  {
    nombre: "Eduardo",
    edad: 23,
    curso: "DAM2V",
    notas: [{ PSP: 9 }, { PMDM: 8 }, { AD: 9 }]
  },
  {
    nombre: "Alberto",
    edad: 27,
    curso: "DAM2V",
    notas: [{ PSP: 6 }, { PMDM: 5 }, { AD: 6 }]
  },
  {
    nombre: "Carlos",
    edad: 35,
    curso: "DAW2V",
    notas: [{ DIW: 6 }, { DAEC: 5 }, { PD: 3 }]
  }
];

// Edad media alumnos
const totalEdad= datos.reduce((suma,alumno)=>suma + alumno.edad,0);
const media= totalEdad/datos.length;

console.log("La edad del total de los alumnos es: ",media,"\n")

// Calcular la media de notas de cada alumno
const mediasNotasAlumnos = {};
datos.forEach(alumno => {
  const notas = alumno.notas.map(nota => Object.values(nota)[0]);
  const mediaNotas = notas.reduce((sum, nota) => sum + nota, 0) / notas.length;
  mediasNotasAlumnos[alumno.nombre] = mediaNotas;
});

console.log("Media de notas de cada alumno:", mediasNotasAlumnos);

// Calcular la edad de los alumnos de DAM2V
const edadesDAM2V = datos.filter(alumno => alumno.curso === "DAM2V").map(alumno => alumno.edad);

console.log("Edades de los alumnos de DAM2V:", edadesDAM2V);

// Calcular la media de notas de la asignatura PSP
const notasPSP = datos
  .filter(alumno => alumno.notas.some(nota => "PSP" in nota))
  .map(alumno => alumno.notas.find(nota => "PSP" in nota).PSP);
const mediaPSP = notasPSP.reduce((sum, nota) => sum + nota, 0) / notasPSP.length;

console.log("Media de notas de PSP:", mediaPSP);

</script>